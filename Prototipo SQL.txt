CREATE TABLE Persona (

id INT AUTO_INCREMENT PRIMARY KEY,

userName VARCHAR(255),
password VARCHAR(255)

);


ALTER TABLE Calendario ADD COLUMN persona_id INT;

ALTER TABLE Calendario ADD CONSTRAINT fk_calendario_persona
FOREIGN KEY (persona_id) REFERENCES Persona(id);


CREATE TABLE calendario (
  id BIGINT NOT NULL AUTO_INCREMENT,

  persona_id BIGINT,
  fecha DATE,

  PRIMARY KEY (id),
  FOREIGN KEY (persona_id) REFERENCES persona(id)
	
);


CREATE TABLE Tarea (
  id INT PRIMARY KEY AUTO_INCREMENT,
  descripcion VARCHAR(255),
  prioridad INT,
  completado BOOLEAN,
  calendario_id INT,
  FOREIGN KEY (calendario_id) REFERENCES Calendario(id)
);


CREATE ROLE Usuarios;
CREATE ROLE Admins;

CREATE USER userName IDENTIFIED BY password


GRANT Usuarios TO userName
GRANT Admins TO admin


GRANT CREATE SESSION TO userName
GRANT CREATE VIEW TO userName
GRANT SELECT ANY TABLE TO userName




GRANT CREATE SESSION TO admin WITH GRANT OPTION
GRANT CREATE TABLE TO admin WITH GRANT OPTION
GRANT CREATE VIEW TO admin WITH GRANT OPTION
GRANT CREATE SEQUENCE TO admin WITH GRANT OPTION
GRANT CREATE PROCEDURE TO admin WITH GRANT OPTION
GRANT DROP ANY TABLE TO admin WITH GRANT OPTION
GRANT SELECT ANY TABLE TO admin WITH GRANT OPTION
GRANT REVOKE TO admin WITH GRANT OPTION
GRANT BACKUP TO admin WITH GRANT OPTION


